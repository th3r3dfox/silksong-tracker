
/* =======================================================================
   F O X   T H E M E  —  Silksong Save Analyzer
   Minimal, ordered CSS. Keeps all features and removes duplicates.
   Palette pivots on #542513 (accent arancione).
   ======================================================================= */

/* 1) Fonts + base -------------------------------------------------------- */
@font-face{
  font-family:'TrajanPro';
  src:url('../fonts/TrajanPro-Regular.otf') format('opentype'),
      url('../fonts/TrajanPro-Regular.ttf') format('truetype');
  font-weight:400; font-style:normal;
}
@font-face{
  font-family:'TrajanPro';
  src:url('../fonts/TrajanPro-Bold.otf') format('opentype'),
      url('../fonts/TrajanPro-Bold.ttf') format('truetype');
  font-weight:700; font-style:normal;
}

*{ box-sizing:border-box; }

:root{
  /* palette */
  --ink: #eaf2ff;                 /* testo principale */
  --ink-2: #cfe0ef;               /* testo secondario */
  --accent: #542513;              /* arancione Fox */
  --accent-strong: #9d3d14;       /* arancione più vivo */
  --pill-bg: rgba(28,20,16,.72);
  --pill-stroke: rgba(84,37,19,.42);
  --card-bg: rgba(16,22,30,.55);
  --shadow-lg: 0 14px 42px rgba(0,0,0,.35);

  /* checklist */
  --check-size: 20px;             /* 16–28px */
  --x-red: #ff3b30;               /* X evidente */
  --tick-green: #22c55e;          /* ✓ verde */

  /* checklist link glow */
  --glow: #542513;

  /* layout */
  --list-width: 520px;            /* width base lista obiettivi */
}

body{
  margin:0; min-height:100vh;
  background:url('../img/sfondo1.PNG') center/cover no-repeat fixed;
  color:#fff; font-family:'TrajanPro',serif;
  position:relative;
}
/* vignetta per contrasto sullo sfondo (non tocca l'immagine) */
body::before{
  content:""; position:fixed; inset:0; z-index:0; pointer-events:none;
  background:
    radial-gradient(60% 40% at 50% 18%, rgba(0,0,0,.18), transparent 70%),
    linear-gradient(to bottom, rgba(0,0,0,.40), rgba(0,0,0,.18) 25%, rgba(0,0,0,.46) 100%);
}
.container{ position:relative; z-index:1; max-width:1000px; margin:0 auto; padding:20px; display:grid; gap:16px; justify-items:center; align-content:start; text-align:center; }

/* 2) Site title --------------------------------------------------------- */
.site-title{ display:block; text-align:center; line-height:1.05; margin:6px 0 12px; position:relative; }
.site-title .title-main{ display:block; font-weight:700; text-transform:uppercase; letter-spacing:.08em; font-size:clamp(36px,5.2vw,64px); text-shadow:0 2px 8px rgba(0,0,0,.55); }
.site-title .title-sub{ display:block; margin-top:6px; color:#d8dee6; text-transform:uppercase; letter-spacing:.22em; font-size:clamp(14px,1.8vw,22px); text-shadow:0 2px 6px rgba(0,0,0,.55); }
.site-title::after{ content:""; display:block; width:min(760px,90vw); height:1px; margin:12px auto 0; background:linear-gradient(90deg,transparent,#a7c3de,transparent); opacity:.75; }
.site-title.compact{ margin:2px 0 8px; }
.site-title.compact .title-main{ font-size:clamp(28px,3.6vw,52px); letter-spacing:.06em; }
.site-title.compact .title-sub{ font-size:clamp(16px,2.1vw,26px); letter-spacing:.20em; margin-top:5px; }
.site-title.compact::after{ width:min(640px,88vw); opacity:.65; }

/* 3) Topbar (path + chooser + info) ------------------------------------ */
.topbar{ width:min(960px,96vw); display:grid; grid-auto-rows:min-content; gap:12px; justify-items:center; }
.topbar .save-path, .topbar .file-chooser{ width:100%; display:flex; justify-content:center; align-items:center; gap:10px; }

.save-display{ width:100%; max-width:900px; padding:12px 16px; background:var(--pill-bg); border:1px solid var(--pill-stroke); border-radius:8px; color:var(--ink); text-align:center; user-select:none; }
.choose-btn{ background:rgba(30,22,18,.55); border:1px solid var(--pill-stroke); border-radius:10px; padding:10px 16px; cursor:pointer; font: 1rem 'TrajanPro',serif; color:var(--ink); box-shadow:0 10px 28px rgba(0,0,0,.35); transition:background .2s, transform .1s, border-color .2s; }
.choose-btn:hover{ background:rgba(30,22,18,.75); border-color:rgba(84,37,19,.55); transform:translateY(-1px); }
.pill{ display:inline-flex; align-items:center; justify-content:center; min-width:52px; padding:6px 12px; border-radius:12px; background:var(--pill-bg); border:1px solid var(--pill-stroke); color:var(--ink); font-weight:700; line-height:1; box-shadow:var(--shadow-lg); }
#fileInfo{ background:var(--pill-bg); border:1px solid var(--pill-stroke); color:var(--ink); }

/* 4) Hero (Game Status) -------------------------------------------------- */
.hero{ width:min(960px,96vw); display:grid; justify-items:center; gap:8px; }
.hk-title{ font-size:2.6rem; letter-spacing:.05em; text-shadow:0 0 10px rgba(0,0,0,.6); margin:10px 0 6px; display:inline-flex; align-items:center; gap:12px; line-height:1; }
#gameStatusPct{ font-size:1.25rem; padding:8px 14px; min-width:72px; }
.meta{ list-style:none; padding:0; margin:6px 0 10px; color:#d5e1ee; }
.meta li{ margin:2px 0; }
.ornament{ border:0; height:1px; margin:12px auto; width:min(760px,90vw); background:linear-gradient(90deg,transparent,#a7c3de,transparent); }

/* 5) Stats row (una riga, responsive) ----------------------------------- */
.stats-row{ width:100%; display:flex; flex-wrap:nowrap; justify-content:space-between; align-items:flex-start; gap:28px; overflow-x:auto; padding-bottom:6px; margin-top:10px; }
.stat{ flex:1 1 0; min-width:140px; text-align:center; display:flex; flex-direction:column; align-items:center; }
.stat .label{ color:#cfe0ef; font-weight:700; letter-spacing:.02em; }
.stat .value{ color:#fff; font-size:1.12rem; margin-top:2px; }
@media (max-width:520px){ .stat{ min-width:120px; } .stat .value{ font-size:1rem; } }

/* 6) Tabs ---------------------------------------------------------------- */
.tabs{ width:min(960px,96vw); display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin:6px 0 10px; }
.tabs .tab{ padding:8px 14px; border-radius:12px; background:rgba(28,20,16,.45); border:1px solid var(--pill-stroke); color:#e9dcc7; cursor:pointer; transition:background .2s, box-shadow .2s, border-color .2s, transform .2s; }
.tabs .tab:hover{ background:rgba(28,20,16,.65); border-color:rgba(84,37,19,.55); transform:translateY(-1px); }
.tabs .tab.active{ color:#fff; background:radial-gradient(120% 160% at 16% 0%, rgba(84,37,19,.24), transparent 56%), linear-gradient(180deg, rgba(32,24,20,.78), rgba(28,20,16,.62)); border-color:rgba(84,37,19,.65); box-shadow:inset 0 0 0 1px rgba(84,37,19,.30), 0 0 0 2px rgba(84,37,19,.22), 0 12px 26px rgba(0,0,0,.38); }
:where(.choose-btn,.btn-ghost,.tabs .tab):focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }

/* 7) Sezioni ------------------------------------------------------------- */
.sections-stack{ width:min(960px,96vw); margin:10px auto 30px; display:grid; gap:34px; justify-items:center; }
.section-block{ width:100%; display:grid; justify-items:center; gap:6px; }
.section-head{ display:inline-flex; align-items:center; gap:12px; justify-content:center; }
.section-title{ margin:0; color:var(--ink); text-transform:uppercase; letter-spacing:.08em; font-weight:700; font-size:clamp(28px,3.2vw,44px); line-height:1.05; text-shadow:0 2px 8px rgba(0,0,0,.55); }
.section-head .pill{ font-size:clamp(14px,1.6vw,18px); padding:6px 12px; min-width:64px; }
.section-desc{ max-width:760px; margin:4px auto 14px; text-align:center; color:var(--ink-2); font-size:.98rem; line-height:1.35; opacity:.95; }

/* 8) Checklist ----------------------------------------------------------- */
.sections-stack .section-block .checklist{
  width:var(--list-width);
  max-width:calc(100% - 48px);
  margin:0 auto;
  padding:0;
  list-style:none;
  text-align:left;
  font-size:1.08rem;
  line-height:1.55;
}
@media (min-width:1300px){ .sections-stack .section-block .checklist{ width:560px; } }

.sections-stack .section-block .checklist li{ display:flex; align-items:center; gap:12px; padding:4px 0; margin:0; }

/* X rossa / ✓ verde con SVG mask */
.sections-stack .section-block .checklist li::before{
  content:""; display:inline-block; vertical-align:middle;
  width:var(--check-size); height:var(--check-size); flex:0 0 var(--check-size);
  background-color: var(--x-red);
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="white" stroke-width="4" stroke-linecap="round"/></svg>') center/contain no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="white" stroke-width="4" stroke-linecap="round"/></svg>') center/contain no-repeat;
  transform: translateY(1px);
}
.sections-stack .section-block .checklist li.done::before{
  background-color: var(--tick-green);
  -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 7l-11 11-5-5" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>') center/contain no-repeat;
          mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 7l-11 11-5-5" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>') center/contain no-repeat;
}

/* link neutrali + glow arancione al passaggio */
.sections-stack .section-block .checklist li > a{
  position:relative; display:inline-block; color:inherit;
  text-decoration:none; border-bottom:none; transition:color .2s, text-shadow .2s;
}
.sections-stack .section-block .checklist li > a::after{
  content:""; position:absolute; inset:0; margin:-.1em -4px;
  background:radial-gradient(closest-side, color-mix(in oklab, var(--glow) 55%, transparent), transparent 70%);
  filter:blur(3px); opacity:0; pointer-events:none; transition:opacity .2s;
}
.sections-stack .section-block .checklist li > a:hover{
  color:#ffe8df; text-shadow:0 0 4px color-mix(in oklab, var(--glow) 70%, transparent), 0 0 10px color-mix(in oklab, var(--glow) 50%, transparent), 0 0 18px color-mix(in oklab, var(--glow) 34%, transparent);
}
.sections-stack .section-block .checklist li > a:hover::after{ opacity:.95; }
.sections-stack .section-block .checklist li > a:focus-visible{ outline:2px solid var(--glow); outline-offset:2px; }

/* 9) Back-to-top --------------------------------------------------------- */
#toTop{ position:fixed; right:1.25rem; bottom:1.25rem; width:44px; height:44px; border-radius:999px; border:1px solid rgba(255,255,255,.15); background:rgba(20,27,36,.7); color:#eaf2ff; cursor:pointer; box-shadow:0 6px 20px rgba(0,0,0,.25); backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px); opacity:0; transform:translateY(8px); pointer-events:none; transition:opacity .25s, transform .25s, background .2s; z-index:9999; font-size:0; line-height:0; }
#toTop::after{ content:""; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); border-left:9px solid transparent; border-right:9px solid transparent; border-bottom:14px solid #eaf2ff; }
#toTop:hover{ background:rgba(20,27,36,.9); }
#toTop.show{ opacity:1; transform:none; pointer-events:auto; }
@media (prefers-reduced-motion: reduce){ #toTop{ transition:none; } }

/* 10) Credit badge -------------------------------------------------------- */
.credit-badge{ position:fixed; left:max(12px, env(safe-area-inset-left)); bottom:calc(env(safe-area-inset-bottom) + 12px); display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background:rgba(20,27,36,.75); color:#eaf2ff; text-decoration:none; font-size:12px; line-height:1; box-shadow:0 6px 20px rgba(0,0,0,.25); backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px); z-index:9999; transition:background .2s, transform .2s; }
.credit-badge:hover{ background:rgba(20,27,36,.92); transform:translateY(-1px); }
.credit-badge svg{ width:16px; height:16px; display:block; }

/* 11) Ghost buttons ------------------------------------------------------- */
.btn-ghost{ display:inline-flex; align-items:center; justify-content:center; padding:8px 12px; border-radius:10px; border:1px solid var(--pill-stroke); background:rgba(30,22,18,.55); color:var(--ink); font-family:'TrajanPro',serif; font-size:14px; line-height:1; cursor:pointer; transition:background .2s, transform .2s, border-color .2s; backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px); }
.btn-ghost:hover{ background:rgba(30,22,18,.75); border-color:rgba(84,37,19,.55); transform:translateY(-1px); }
.btn-ghost.small{ padding:6px 10px; font-size:13px; }
.btn-ghost.tiny{ padding:4px 8px; font-size:12px; }

/* 12) Modal JSON ---------------------------------------------------------- */
.modal{ position:fixed; inset:0; display:none; z-index:10000; }
.modal.show{ display:block; }
.modal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); }
.modal__dialog{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:min(1100px, 92vw); max-height:80vh; background:rgba(18,24,32,.92); border:1px solid rgba(255,255,255,.12); border-radius:12px; box-shadow:0 20px 60px rgba(0,0,0,.45); overflow:hidden; }
.modal__head{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.08); }
.modal__title{ font-family:'TrajanPro',serif; font-size:18px; letter-spacing:.05em; color:#eaf2ff; }
.modal__actions{ display:flex; gap:8px; }
.modal__code{ margin:0; padding:14px; color:#dbe8f9; background:transparent; max-height:calc(80vh - 56px); overflow:auto; white-space:pre; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; }



/* selettore lingua in alto a destra, solo il select */
/* dock fisso in alto a destra */
#langDock{
  position: fixed;
  top: 12px; right: 12px;
  z-index: 10000;
}

/* select compatto, senza altezza fissa */
#langDock select{
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
  display: inline-block;
  box-sizing: border-box;

  min-width: 88px;            /* compatto */
  min-height: 28px;           /* altezza minima, non fissa */
  padding: 2px 26px 2px 8px;  /* poco padding verticale */
  border-radius: 8px;

  font-size: 0.95rem;
  line-height: normal;        /* evita clipping delle emoji */
  color: #fff;

  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.18);
  cursor: pointer;

  /* freccetta */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='9' height='6' viewBox='0 0 10 7' fill='none'><path d='M1 1.5L5 5.5L9 1.5' stroke='white' stroke-width='1.4' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  background-repeat: no-repeat;
  background-position: right 8px center;
  background-size: 9px 6px;
}

/* elenco opzioni leggibile (quando il browser lo consente) */
#langDock option{
  color: #111 !important;
  background: #fff !important;
}

/* mobile */
@media (max-width: 640px){
  #langDock{ top: 8px; right: 8px; }
  #langDock select{
    min-width: 78px;
    min-height: 26px;
    font-size: 0.9rem;
    padding: 2px 24px 2px 8px;
  }
}

/* Checklist: una riga, NESSUN taglio di testo */
#sectionsStack ul.checklist{
  overflow-x: auto;        /* se proprio non ci sta, si può scorrere orizzontalmente */
  padding-bottom: 2px;     /* un filo di spazio per l'eventuale scrollbar */
}

#sectionsStack ul.checklist > li{
  white-space: nowrap;     /* no a capo */
  overflow: visible;       /* niente ellissi/tagli */
  text-overflow: clip;
  display: flex;
  align-items: center;
  gap: .5rem;
  line-height: 1.2;
  font-size: var(--checklist-font, 0.92rem);  /* font un po’ più piccolo */
}

/* link/label/meta sulla stessa riga e compatti */
#sectionsStack ul.checklist > li .label,
#sectionsStack ul.checklist > li a,
#sectionsStack ul.checklist > li .inline-meta{
  white-space: nowrap;
}

/* Riduci ancora su schermi più stretti */
@media (max-width: 1280px){
  #sectionsStack ul.checklist > li{ font-size: 0.88rem; }
}
@media (max-width: 1024px){
  #sectionsStack ul.checklist > li{ font-size: 0.84rem; }
}
@media (max-width: 820px){
  #sectionsStack ul.checklist > li{ font-size: 0.80rem; }
}
@media (max-width: 640px){
  #sectionsStack ul.checklist > li{ font-size: 0.76rem; }
}

/* opzionale: anche i titoli delle sezioni un filo più piccoli per coerenza */
.section-block .section-title{
  font-size: clamp(1.1rem, 2.6vw, 1.6rem);
  line-height: 1.1;
}


/* ---------- Footer Off Topic ---------- */
#offtopic{
  margin-top: 56px;
  padding: 28px 16px 20px;
  border-top: 1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.18));
  color: #eaeaea;
}
#offtopic .footer-wrap{
  max-width: 1100px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 18px;
}
#offtopic .foot-block{
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  padding: 14px 16px;
}
#offtopic .foot-title{
  margin: 0 0 10px;
  font-size: clamp(1.05rem, 1.2vw, 1.25rem);
  letter-spacing: .03em;
}
#offtopic .foot-subtitle{
  margin: 0 0 8px;
  font-size: 1rem;
  opacity: .95;
}
#offtopic .foot-text{
  margin: 0 0 6px;
  font-size: .92rem;
  line-height: 1.35;
  opacity: .9;
}
#offtopic .pill{
  display: inline-block;
  margin: 4px 0 10px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: .85rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
}
#offtopic a{ color:#84c7ff; text-decoration: none; }
#offtopic a:hover{ text-decoration: underline; }
#offtopic .foot-fine{
  max-width: 1100px;
  margin: 14px auto 0;
  text-align: center;
  opacity: .65;
  font-size: .82rem;
}

/* Responsive */
@media (max-width: 900px){
  #offtopic .footer-wrap{ grid-template-columns: 1fr; }
}


/* Lista: una riga, scroll orizzontale possibile ma barra nascosta */
#sectionsStack ul.checklist{
  overflow-x: auto;          /* mantiene il contenuto integro */
  -ms-overflow-style: none;  /* IE/Edge vecchi: nasconde la barra */
  scrollbar-width: none;     /* Firefox: nasconde la barra */
}
#sectionsStack ul.checklist::-webkit-scrollbar{ /* Chrome/Safari/Edge */
  width: 0; height: 0; display: none;
}

/* voci compatte (già viste) */
#sectionsStack ul.checklist > li{
  white-space: nowrap;
  overflow: visible;
  text-overflow: clip;
  display: flex; align-items: center; gap: .5rem;
  line-height: 1.2;
  font-size: var(--checklist-font, 0.90rem);
}

.section-block { transition: opacity .15s ease; }
.section-block[style*="display: none"] { opacity: 0; }

.upload-hint{
  margin: 6px 0;
  font-size: .95rem;
  opacity: .85;
}
.upload-hint code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  padding: 0 4px;
  border-radius: 4px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.15);
}


/* cursore globale */
html, body {
  cursor: url('/img/Cursor_32px.png') 0 0, auto;
}

/* esempio: cursore “link” sui tag cliccabili */
a, button, [role="button"], input[type="submit"] {
  cursor: url('/img/Cursor_32px.png') 0 0, pointer;
}
